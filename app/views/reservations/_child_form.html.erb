<div class="card border-default bg-white pt-2 box-shadow mt-2">
  <div class="persisted-data" data-check-in="<%= params[:check_in]%>"
       data-check-out="<%= params[:check_out]%>"
       data-url="<%= price_details_lodging_path(lodging) %>"
       data-validate-url="<%= validate_reservations_path %>"></div>

  <div class="card-body">
    <div class="row">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-5 col-lg-4">
            <%= render_image_tag lodging, class: 'max-height-200 w-100' %>
          </div>

          <div class="col-md-5 col-lg-3 lodging p-0">
            <h5><%= lodging.child_name %></h5>

            <div id="lodging-description" class="max-height-200">
              <p class="text-xs"> <%= truncated_description(lodging.short_desc, 250).try(:html_safe) %></p>
            </div>

            <a data-toggle="modal" class="cursor-pointer" data-target="#child-details-modal-<%= lodging.id %>">more information</a>
          </div>

          <div class="col-md-4 col-lg-5 bg-secondary">
            <div class="reservation-form-errors-<%= lodging.id %> child-form-errors">
              <%= render 'reservations/errors', resource: lodging.reservations.build %>
            </div>
            <%= form_for lodging.reservations.build, url: reservations_path, remote: true, html: { id: "new_reservation_#{lodging.id}" } do |f| %>

                <p class="text-bold mb-1 anternative-heading" id="anternative-heading-<%= lodging.id %>"></p>
                <div id="flexible-search-<%= lodging.id %>" class="flexible-search-data"></div>
                <p id="lbl-error-<%= lodging.id %>"></p>

                
                <% [:prebooking, :option].each do |status| %>
                  <%= f.radio_button :booking_status, status, id: "booking_status_#{status}_#{lodging.id}" %>
                  <label><%= status %></label>
                <% end %>

                <%= hidden_field_tag "calculate_bill-#{lodging.id}", true %>
                <%= f.hidden_field :check_in, id: "check_in_#{lodging.id}", class: 'check_in' %>
                <%= f.hidden_field :check_out, id: "check_out_#{lodging.id}", class: 'check_out' %>
                <%= f.hidden_field :adults, value: no_of_adults(f.object.adults), id: "adults_#{lodging.id}", class: 'adults' %>
                <%= f.hidden_field :children, id: "children_#{lodging.id}", class: 'children' %>
                <%= f.hidden_field :infants, id: "infants_#{lodging.id}", class: 'infants' %>
                <%= f.hidden_field :lodging_id, value: lodging.id, id: "lodging_id_#{lodging.id}" %>
              <% end %>
              
              <div class="text-dark" id="bill-<%= lodging.id %>"></div>
              <%= button_tag 'Add to Cart', class: "btn btn-primary col-md-12 btn-booking disabled", id: "cart-#{lodging.id}", data: { form_id: "#new_reservation_#{lodging.id}" } %>
              <%= render 'wishlists/form', lodging: lodging %>

              <div class="row">
                <button class="btn btn-sm col-md-5 mx-auto bg-white btn-outline-secondary" type="button"
                  data-container="body" data-toggle="popover" data-placement="top" data-trigger="hover click" data-content="<%= lodging.including_text %>" data-html="true" data-original-title="Included">+ Included ?
                </button>

                <button class="text-xxs btn btn-sm col-md-5 mx-auto bg-white btn-outline-secondary" type="button"
                  data-container="body" data-toggle="popover" data-html="true" data-placement="top" data-trigger="hover click" data-content="<%= lodging.particularities_text %>" data-original-title="Belangrijk informatie">+ Informatie
                </button>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
