<!-- Page Content-->
<div class="padding-bottom-3x mb-1">
  <!-- Shopping Cart-->
  <% if @wishlists.present? %>
    <div class="table-responsive shopping-cart">
      <table class="table">
        <thead>
          <tr>
            <th>Lodging</th>
            <th class="text-center">Check in</th>
            <th class="text-center">Check out</th>
            <th class="text-center">Adults</th>
            <th class="text-center">Children</th>
            <th class="text-center">
              <%= link_to 'Clear Wishlist', wishlists_path, class: 'btn btn-sm btn-outline-danger', method: :DELETE %>
            </th>
          </tr>
        </thead>

        <tbody id="wishlist-body">
          <%= render partial: 'wishlist', collection: @wishlists %>
        </tbody>
      </table>
    </div>

    <div class="row">
      <div class="col-lg-12">
        <h4>Personal Details</h4>
        <hr class="padding-bottom-1x">
        <%= form_for @user, url: checkout_dashboard_wishlists_path, method: :post do |f| %>
          <%= render 'shared/errors', resource: @user %>

          <fieldset <%= 'disabled' if user_signed_in? %>>
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <%= f.label :first_name %>
                  <%= f.text_field :first_name, class: "form-control" %>
                </div>
              </div>

              <div class="col-sm-6">
                <div class="form-group">
                  <%= f.label :last_name %>
                  <%= f.text_field :last_name, class: "form-control" %>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <%= f.label :email %>
                  <%= f.email_field :email, class: "form-control disabled", required: true %>
                </div>
              </div>
            </div>
          </fieldset>

          <% if user_signed_in? %>
            <hr class="padding-bottom-1x">
          <% else %>
            <div class="row password-fields d-none">
              <div class="col-sm-6">
                <div class="form-group">
                  <%= f.label :password %>
                  <%= f.password_field :password, class: "form-control", autocomplete: 'new-password' %>
                </div>
              </div>

              <div class="col-sm-6">
                <div class="form-group">
                  <%= f.label :password_confirmation %>
                  <%= f.password_field :password_confirmation, class: "form-control", autocomplete: 'new-password' %>
                </div>
              </div>
            </div>
            <hr class="padding-bottom-1x">

            <div class="form-group">
              <div class="custom-control custom-checkbox">
                <%= check_box_tag :create_account, nil, show_password_fields?(@user), class: "custom-control-input" %>
                <label class="custom-control-label" for="create_account">Do you want to create an account?</label>
              </div>
            </div>
          <% end %>

          <div class="d-flex justify-content-between">
            <%= link_to lodgings_path, class: 'btn btn-outline-secondary' do %>
              <i class="icon-arrow-left material-icons">keyboard_arrow_left</i>&nbsp;Back to Shopping
            <% end %>

            <%= f.submit 'Checkout', class: "btn btn-success m-0" %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="shopping-cart-footer">
      <div class="text-center">
        <p>WISH LIST IS EMPTY.</p>

        <%= link_to lodgings_path, class: 'btn btn-outline-secondary' do %>
          <i class="icon-arrow-left material-icons">keyboard_arrow_left</i>&nbsp;Back to Shopping
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<% content_for :js_init do %>
  Cart.init();
<% end %>
