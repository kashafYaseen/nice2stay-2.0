<% content_for :body_class, "pr-3" %>

<div class="row">
  <div id="loader">
    <%= image_tag 'loader.gif', class: 'w-50' %>
  </div>

  <div class="col-md-7 bg-secondary p-2 col-sm-8 search-filters pr-0">
    <%= render 'filters', lodgings: @lodgings, amenities: @amenities, experiences: @experiences, countries: @countries_enabled %>
  </div>

  <div class="col-lg-7 col-md-8 top-50">
    <div class="row">
      <div class="seo-data bg-secondary">
        <%= render 'seo_data', custom_text: @custom_text %>
      </div>

      <div class="col-md-12">
        <div class="row pl-3 lodgings-list bg-secondary" id="lodgings-list">
          <%= render 'map_info_alert', custom_text: @custom_text %>
          <%= render 'lodgings_list', lodgings: @lodgings %>
        </div>
      </div>

      <%= render 'login_info_alert' %>

      <div class="col-lg-12 mb-5 bg-secondary">
        <div class="card ml-3 bg-white">
          <div class="card-body">
            <div class="pagination-info text-right">
              <%= page_entries_info(@lodgings, entry_name: 'Lodging' ) %>
            </div>

            <div class="pagination">
              <%= paginate @lodgings, remote: true, window: 3 %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-lg-5 col-sm-4 fixed-map d-none d-sm-block">
    <%= tag.div nil, id: 'map', class: 'lodgings-map' %>
  </div>
</div>

<%= content_for :js_init do %>
  Lodging.init();
  Map.init();
  $('#loader').hide();
  InfiniteScroll.pagination('<%= lodgings_path(locale: locale) %>');
<% end %>

<%= content_for :footer_class do 'd-none' end %>
